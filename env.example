# ============================================
# W2M - WhatsApp to Markdown
# Environment Configuration
# ============================================
# Copy this file to .env and adjust the values as needed

# --------------------------------------------
# WhatsApp Configuration
# --------------------------------------------
# Path to store WhatsApp session data
WA_SESSION_PATH=./data/session

# Comma-separated list of group IDs to monitor
# Get IDs from WhatsApp Web or logs on first connection
WA_ALLOWED_GROUPS=

# QR code scan timeout in milliseconds (default: 60s)
WA_QR_TIMEOUT=60000

# Reconnection interval in milliseconds (default: 5s)
WA_RECONNECT_INTERVAL=5000

# --------------------------------------------
# Vault Configuration
# --------------------------------------------
# Base path for generated Markdown files
VAULT_PATH=./data/vault

# Date format for filenames (uses date-fns format)
VAULT_DATE_FORMAT=yyyy-MM-dd

# Include YAML frontmatter in generated files
VAULT_ENABLE_FRONTMATTER=true

# --------------------------------------------
# Git Sync Configuration
# --------------------------------------------
# Enable automatic Git sync
GIT_ENABLED=true

# Git remote name
GIT_REMOTE=origin

# Git branch name
GIT_BRANCH=main

# Prefix for commit messages
GIT_COMMIT_PREFIX=[W2M]

# Sync interval in milliseconds (default: 5 minutes)
GIT_SYNC_INTERVAL=300000

# Git user for commits
GIT_USER_NAME=W2M Bot
GIT_USER_EMAIL=w2m@localhost

# --------------------------------------------
# Feedback Configuration
# --------------------------------------------
# Send confirmation messages to chat
FEEDBACK_CONFIRMATIONS=true

# Send error notifications to chat
FEEDBACK_ERRORS=true

# Minimum time between feedback messages (ms)
FEEDBACK_RATE_LIMIT=1000

# --------------------------------------------
# Logging Configuration
# --------------------------------------------
# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info

# Log format: json or pretty
LOG_FORMAT=json

# --------------------------------------------
# Timezone Configuration
# --------------------------------------------
# System timezone (e.g., America/Santiago, Europe/Madrid, America/New_York)
# This affects message timestamps and date formatting
# List of valid timezones: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=America/Santiago

# --------------------------------------------
# Memory Configuration
# --------------------------------------------
# Node.js max old space size in MB (adjust for your RAM)
# For 1GB RAM total, use 384-512
NODE_MAX_OLD_SPACE=384

# --------------------------------------------
# Web Dashboard Configuration
# --------------------------------------------
# Enable web dashboard
WEB_ENABLED=true

# Web dashboard port
WEB_PORT=3000

# Web dashboard host (0.0.0.0 to listen on all interfaces)
WEB_HOST=0.0.0.0

# --------------------------------------------
# Storage Configuration
# --------------------------------------------
# Storage type: local, googledrive, git
# local: Filesystem storage (default)
# googledrive: Google Drive storage (requires OAuth setup)
# git: Git-based storage (requires Git repository)
STORAGE_TYPE=local

# --------------------------------------------
# Google Drive Configuration
# --------------------------------------------
# Choose ONE of the following authentication methods:

# Option 1: Service Account (RECOMMENDED - simpler, no OAuth needed)
# See docs/GCP-SERVICE-ACCOUNT-SETUP.md for detailed instructions
GOOGLE_SERVICE_ACCOUNT_PATH=./data/googledrive/service-account.json

# Option 2: OAuth (requires browser authentication)
# See docs/GCP-OAUTH-SETUP.md for detailed instructions
# GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=GOCSPX-your-client-secret
# GOOGLE_REDIRECT_URI=http://localhost:3000/web/api/oauth/googledrive/callback

